<div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit Bookmark '{{ .DisplayName }}'</h5>
      </div>
      <form class="bookmark_edit_form">
      <div class="modal-body">

          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="bookmark_Type" id="type_Bookmark" value="Node" {{ valWhenNodeEq "Node" .Type "checked" }}>
            <label class="form-check-label" for="type_Bookmark">Bookmark</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="bookmark_Type" id="type_Folder" value="Folder" {{ valWhenNodeEq "Folder" .Type "checked" }}>
            <label class="form-check-label" for="type_Folder">Folder</label>
          </div>

          <div class="spacer"></div>

          <div class="flex_layout">
            <div class="bookmark_edit_layout_flex_5">
              <img class="bookmark_favicon_preview"
                [class.invert]="bookmark.invertFaviconColor === 1"
                src="/api/v1/bookmarks/favicon/{{ .ID }}" />
            </div>
            <div class="bookmark_edit_layout_flex_95 form-floating mb-3">
              <input type="text" class="form-control" id="bookmark_DisplayName" placeholder="Displayname" name="bookmark_DisplayName" value="{{ .DisplayName }}">
              <label for="bookmark_DisplayName">DisplayName</label>
            </div>
          </div>

          <div class="input-group mb-3" id="url_section">
            <span class="input-group-text" id="url"><i class="bi bi-link-45deg"></i></span>
            <input type="text" class="form-control" placeholder="URL" aria-label="URL" aria-describedby="url" name="bookmark_URL" value="{{ .URL }}">
            <button type="button" class="btn btn-outline-secondary"> <i class="bi bi-arrow-clockwise"></i></button>
          </div>

          <div class="form-floating mb-3">
            <select class="form-select" aria-label="Path" id="bookmark_Path" name="bookmark_Path">
              <option></option>
              <option value="1">One</option>
              <option value="2">Two</option>
              <option value="3">Three</option>
            </select>
            <label for="bookmark_Path">Path</label>
          </div>

          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="bookmark_Invert" name="bookmark_InvertFaviconColor">
            <label class="form-check-label" for="bookmark_Invert">Invert Favicon Color</label>
          </div>

          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="bookmark_Custom_Favicon">
            <label class="form-check-label" for="bookmark_Custom_Favicon">Custom Favicon</label>
          </div>

          <div class="input-group mb-3 d-none" id="custom_favicon_section">
            <input type="text" class="form-control" placeholder="Favicon URL" aria-label="Favicon URL" aria-describedby="Favicon URL" name="bookmark_Favicon">
            <button type="button" class="btn btn-outline-secondary"> <i class="bi bi-arrow-clockwise"></i></button>
          </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" data-bs-dismiss="modal"
          >Save</button>
      </div>

      </form>

    </div>
</div>


 <script type="text/javascript">
    if (document.querySelector('#type_Bookmark')) {
      document.querySelector('#type_Bookmark').addEventListener('change', (event) => {
        if (event.target.value === 'Node') {
          document.querySelector('#url_section').classList.remove('d-none');
        } else {
          document.querySelector('#url_section').classList.add('d-none');
        }
      });
    }

    if (document.querySelector('#type_Folder')) {
      document.querySelector('#type_Folder').addEventListener('change', (event) => {
        if (event.target.value === 'Folder') {
          document.querySelector('#url_section').classList.add('d-none');
        } else {
          document.querySelector('#url_section').classList.remove('d-none');
        }
      });
    }

    if (document.querySelector('#bookmark_Custom_Favicon')) {
      document.querySelector('#bookmark_Custom_Favicon').addEventListener('change', (event) => {
        if (event.currentTarget.checked) {
          document.querySelector('#custom_favicon_section').classList.remove('d-none');
        } else {
          document.querySelector('#custom_favicon_section').classList.add('d-none');
        }
      });
    }
</script>
